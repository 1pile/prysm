load("@io_bazel_rules_go//go:def.bzl", "go_library")
load(":beacon_fuzz_state_gen.bzl", "beacon_fuzz_state_gen")

beacon_fuzz_state_gen(
    name = "generated_beacon_fuzz_states",
    package_name = "testing",
    corpus = "@sigp_beacon_fuzz_corpora//:current_mainnet_beaconstate",
)

go_library(
    name = "go_default_library",
    testonly = 1,
    srcs = [
        "beacon_fuzz_states.go",
        ":generated_beacon_fuzz_states",  # keep
    ],
    importpath = "github.com/prysmaticlabs/prysm/beacon-chain/testing",
    visibility = [
        "//beacon-chain:__subpackages__",
        "//fuzz:__pkg__",
    ],
    deps = ["//proto/beacon/p2p/v1:go_default_library"],
)
